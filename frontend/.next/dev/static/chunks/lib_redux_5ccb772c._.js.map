{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Programming/Practice%20Work%20-%20Projects/chat-app/frontend/lib/redux/slices/authSlice.ts"],"sourcesContent":["import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\n\r\ninterface User {\r\n  id: string;\r\n  username: string;\r\n  email: string;\r\n  profilePic: string;\r\n  bio: string;\r\n  phone?: string;\r\n  isOnline: boolean;\r\n  lastSeen: string;\r\n}\r\n\r\ninterface AuthState {\r\n  user: User | null;\r\n  token: string | null;\r\n  isAuthenticated: boolean;\r\n  loading: boolean;\r\n}\r\n\r\nconst initialState: AuthState = {\r\n  user: null,\r\n  token: null,\r\n  isAuthenticated: false,\r\n  loading: false,\r\n};\r\n\r\nconst authSlice = createSlice({\r\n  name: \"auth\",\r\n  initialState,\r\n  reducers: {\r\n    setCredentials: (\r\n      state,\r\n      action: PayloadAction<{ user: User; token: string }>\r\n    ) => {\r\n      state.user = action.payload.user;\r\n      state.token = action.payload.token;\r\n      state.isAuthenticated = true;\r\n      state.loading = false;\r\n      \r\n      // Save to localStorage\r\n      localStorage.setItem(\"token\", action.payload.token);\r\n      localStorage.setItem(\"user\", JSON.stringify(action.payload.user));\r\n    },\r\n    setLoading: (state, action: PayloadAction<boolean>) => {\r\n      state.loading = action.payload;\r\n    },\r\n    logout: (state) => {\r\n      state.user = null;\r\n      state.token = null;\r\n      state.isAuthenticated = false;\r\n      state.loading = false;\r\n      \r\n      // Clear localStorage\r\n      localStorage.removeItem(\"token\");\r\n      localStorage.removeItem(\"user\");\r\n    },\r\n    updateUser: (state, action: PayloadAction<Partial<User>>) => {\r\n      if (state.user) {\r\n        state.user = { ...state.user, ...action.payload };\r\n        localStorage.setItem(\"user\", JSON.stringify(state.user));\r\n      }\r\n    },\r\n    restoreAuth: (state) => {\r\n      const token = localStorage.getItem(\"token\");\r\n      const userStr = localStorage.getItem(\"user\");\r\n      \r\n      if (token && userStr) {\r\n        state.token = token;\r\n        state.user = JSON.parse(userStr);\r\n        state.isAuthenticated = true;\r\n      }\r\n    },\r\n  },\r\n});\r\n\r\nexport const { setCredentials, setLoading, logout, updateUser, restoreAuth } =\r\n  authSlice.actions;\r\n\r\nexport default authSlice.reducer;\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;;AAoBA,MAAM,eAA0B;IAC9B,MAAM;IACN,OAAO;IACP,iBAAiB;IACjB,SAAS;AACX;AAEA,MAAM,YAAY,IAAA,6MAAW,EAAC;IAC5B,MAAM;IACN;IACA,UAAU;QACR,gBAAgB,CACd,OACA;YAEA,MAAM,IAAI,GAAG,OAAO,OAAO,CAAC,IAAI;YAChC,MAAM,KAAK,GAAG,OAAO,OAAO,CAAC,KAAK;YAClC,MAAM,eAAe,GAAG;YACxB,MAAM,OAAO,GAAG;YAEhB,uBAAuB;YACvB,aAAa,OAAO,CAAC,SAAS,OAAO,OAAO,CAAC,KAAK;YAClD,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC,OAAO,OAAO,CAAC,IAAI;QACjE;QACA,YAAY,CAAC,OAAO;YAClB,MAAM,OAAO,GAAG,OAAO,OAAO;QAChC;QACA,QAAQ,CAAC;YACP,MAAM,IAAI,GAAG;YACb,MAAM,KAAK,GAAG;YACd,MAAM,eAAe,GAAG;YACxB,MAAM,OAAO,GAAG;YAEhB,qBAAqB;YACrB,aAAa,UAAU,CAAC;YACxB,aAAa,UAAU,CAAC;QAC1B;QACA,YAAY,CAAC,OAAO;YAClB,IAAI,MAAM,IAAI,EAAE;gBACd,MAAM,IAAI,GAAG;oBAAE,GAAG,MAAM,IAAI;oBAAE,GAAG,OAAO,OAAO;gBAAC;gBAChD,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC,MAAM,IAAI;YACxD;QACF;QACA,aAAa,CAAC;YACZ,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,MAAM,UAAU,aAAa,OAAO,CAAC;YAErC,IAAI,SAAS,SAAS;gBACpB,MAAM,KAAK,GAAG;gBACd,MAAM,IAAI,GAAG,KAAK,KAAK,CAAC;gBACxB,MAAM,eAAe,GAAG;YAC1B;QACF;IACF;AACF;AAEO,MAAM,EAAE,cAAc,EAAE,UAAU,EAAE,MAAM,EAAE,UAAU,EAAE,WAAW,EAAE,GAC1E,UAAU,OAAO;uCAEJ,UAAU,OAAO"}},
    {"offset": {"line": 80, "column": 0}, "map": {"version":3,"sources":["file:///D:/Programming/Practice%20Work%20-%20Projects/chat-app/frontend/lib/redux/slices/userSlice.ts"],"sourcesContent":["import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\n\r\ninterface User {\r\n  id: string;\r\n  username: string;\r\n  email: string;\r\n  profilePic: string;\r\n  bio: string;\r\n  phone?: string;\r\n  isOnline: boolean;\r\n  lastSeen: string;\r\n}\r\n\r\ninterface UserState {\r\n  allUsers: User[];\r\n  selectedUser: User | null;\r\n  loading: boolean;\r\n}\r\n\r\nconst initialState: UserState = {\r\n  allUsers: [],\r\n  selectedUser: null,\r\n  loading: false,\r\n};\r\n\r\nconst userSlice = createSlice({\r\n  name: \"user\",\r\n  initialState,\r\n  reducers: {\r\n    setAllUsers: (state, action: PayloadAction<User[]>) => {\r\n      state.allUsers = action.payload;\r\n    },\r\n    setSelectedUser: (state, action: PayloadAction<User | null>) => {\r\n      state.selectedUser = action.payload;\r\n    },\r\n    updateUserInList: (state, action: PayloadAction<User>) => {\r\n      const index = state.allUsers.findIndex(\r\n        (user) => user.id === action.payload.id\r\n      );\r\n      if (index !== -1) {\r\n        state.allUsers[index] = action.payload;\r\n      }\r\n    },\r\n    setLoading: (state, action: PayloadAction<boolean>) => {\r\n      state.loading = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { setAllUsers, setSelectedUser, updateUserInList, setLoading } =\r\n  userSlice.actions;\r\n\r\nexport default userSlice.reducer;\r\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;;AAmBA,MAAM,eAA0B;IAC9B,UAAU,EAAE;IACZ,cAAc;IACd,SAAS;AACX;AAEA,MAAM,YAAY,IAAA,6MAAW,EAAC;IAC5B,MAAM;IACN;IACA,UAAU;QACR,aAAa,CAAC,OAAO;YACnB,MAAM,QAAQ,GAAG,OAAO,OAAO;QACjC;QACA,iBAAiB,CAAC,OAAO;YACvB,MAAM,YAAY,GAAG,OAAO,OAAO;QACrC;QACA,kBAAkB,CAAC,OAAO;YACxB,MAAM,QAAQ,MAAM,QAAQ,CAAC,SAAS,CACpC,CAAC,OAAS,KAAK,EAAE,KAAK,OAAO,OAAO,CAAC,EAAE;YAEzC,IAAI,UAAU,CAAC,GAAG;gBAChB,MAAM,QAAQ,CAAC,MAAM,GAAG,OAAO,OAAO;YACxC;QACF;QACA,YAAY,CAAC,OAAO;YAClB,MAAM,OAAO,GAAG,OAAO,OAAO;QAChC;IACF;AACF;AAEO,MAAM,EAAE,WAAW,EAAE,eAAe,EAAE,gBAAgB,EAAE,UAAU,EAAE,GACzE,UAAU,OAAO;uCAEJ,UAAU,OAAO"}},
    {"offset": {"line": 129, "column": 0}, "map": {"version":3,"sources":["file:///D:/Programming/Practice%20Work%20-%20Projects/chat-app/frontend/lib/redux/api/apiSlice.ts"],"sourcesContent":["import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\r\nimport type { RootState } from \"../store\";\r\n\r\nconst baseUrl = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:5000/api\";\r\n\r\nexport const apiSlice = createApi({\r\n  reducerPath: \"api\",\r\n  baseQuery: fetchBaseQuery({\r\n    baseUrl,\r\n    prepareHeaders: (headers, { getState }) => {\r\n      const token = (getState() as RootState).auth.token;\r\n      if (token) {\r\n        headers.set(\"authorization\", `Bearer ${token}`);\r\n      }\r\n      return headers;\r\n    },\r\n  }),\r\n  tagTypes: [\"User\", \"Auth\"],\r\n  endpoints: (builder) => ({\r\n    // Auth endpoints\r\n    signup: builder.mutation({\r\n      query: (credentials) => ({\r\n        url: \"/auth/signup\",\r\n        method: \"POST\",\r\n        body: credentials,\r\n      }),\r\n      invalidatesTags: [\"Auth\"],\r\n    }),\r\n    login: builder.mutation({\r\n      query: (credentials) => ({\r\n        url: \"/auth/login\",\r\n        method: \"POST\",\r\n        body: credentials,\r\n      }),\r\n      invalidatesTags: [\"Auth\"],\r\n    }),\r\n    logout: builder.mutation({\r\n      query: () => ({\r\n        url: \"/auth/logout\",\r\n        method: \"POST\",\r\n      }),\r\n      invalidatesTags: [\"Auth\"],\r\n    }),\r\n    getMe: builder.query({\r\n      query: () => \"/auth/me\",\r\n      providesTags: [\"Auth\"],\r\n    }),\r\n\r\n    // User endpoints\r\n    getAllUsers: builder.query({\r\n      query: () => \"/users\",\r\n      providesTags: [\"User\"],\r\n    }),\r\n    getUserById: builder.query({\r\n      query: (id) => `/users/${id}`,\r\n      providesTags: [\"User\"],\r\n    }),\r\n    searchUsers: builder.query({\r\n      query: (searchTerm) => `/users/search?q=${searchTerm}`,\r\n      providesTags: [\"User\"],\r\n    }),\r\n    updateProfile: builder.mutation({\r\n      query: (data) => ({\r\n        url: \"/users/profile\",\r\n        method: \"PUT\",\r\n        body: data,\r\n      }),\r\n      invalidatesTags: [\"User\", \"Auth\"],\r\n    }),\r\n  }),\r\n});\r\n\r\nexport const {\r\n  useSignupMutation,\r\n  useLoginMutation,\r\n  useLogoutMutation,\r\n  useGetMeQuery,\r\n  useGetAllUsersQuery,\r\n  useGetUserByIdQuery,\r\n  useSearchUsersQuery,\r\n  useUpdateProfileMutation,\r\n} = apiSlice;\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAGgB;AAHhB;AAAA;;AAGA,MAAM,UAAU,iEAAmC;AAE5C,MAAM,WAAW,IAAA,kOAAS,EAAC;IAChC,aAAa;IACb,WAAW,IAAA,qMAAc,EAAC;QACxB;QACA,gBAAgB,CAAC,SAAS,EAAE,QAAQ,EAAE;YACpC,MAAM,QAAQ,AAAC,WAAyB,IAAI,CAAC,KAAK;YAClD,IAAI,OAAO;gBACT,QAAQ,GAAG,CAAC,iBAAiB,CAAC,OAAO,EAAE,OAAO;YAChD;YACA,OAAO;QACT;IACF;IACA,UAAU;QAAC;QAAQ;KAAO;IAC1B,WAAW,CAAC,UAAY,CAAC;YACvB,iBAAiB;YACjB,QAAQ,QAAQ,QAAQ,CAAC;gBACvB,OAAO,CAAC,cAAgB,CAAC;wBACvB,KAAK;wBACL,QAAQ;wBACR,MAAM;oBACR,CAAC;gBACD,iBAAiB;oBAAC;iBAAO;YAC3B;YACA,OAAO,QAAQ,QAAQ,CAAC;gBACtB,OAAO,CAAC,cAAgB,CAAC;wBACvB,KAAK;wBACL,QAAQ;wBACR,MAAM;oBACR,CAAC;gBACD,iBAAiB;oBAAC;iBAAO;YAC3B;YACA,QAAQ,QAAQ,QAAQ,CAAC;gBACvB,OAAO,IAAM,CAAC;wBACZ,KAAK;wBACL,QAAQ;oBACV,CAAC;gBACD,iBAAiB;oBAAC;iBAAO;YAC3B;YACA,OAAO,QAAQ,KAAK,CAAC;gBACnB,OAAO,IAAM;gBACb,cAAc;oBAAC;iBAAO;YACxB;YAEA,iBAAiB;YACjB,aAAa,QAAQ,KAAK,CAAC;gBACzB,OAAO,IAAM;gBACb,cAAc;oBAAC;iBAAO;YACxB;YACA,aAAa,QAAQ,KAAK,CAAC;gBACzB,OAAO,CAAC,KAAO,CAAC,OAAO,EAAE,IAAI;gBAC7B,cAAc;oBAAC;iBAAO;YACxB;YACA,aAAa,QAAQ,KAAK,CAAC;gBACzB,OAAO,CAAC,aAAe,CAAC,gBAAgB,EAAE,YAAY;gBACtD,cAAc;oBAAC;iBAAO;YACxB;YACA,eAAe,QAAQ,QAAQ,CAAC;gBAC9B,OAAO,CAAC,OAAS,CAAC;wBAChB,KAAK;wBACL,QAAQ;wBACR,MAAM;oBACR,CAAC;gBACD,iBAAiB;oBAAC;oBAAQ;iBAAO;YACnC;QACF,CAAC;AACH;AAEO,MAAM,EACX,iBAAiB,EACjB,gBAAgB,EAChB,iBAAiB,EACjB,aAAa,EACb,mBAAmB,EACnB,mBAAmB,EACnB,mBAAmB,EACnB,wBAAwB,EACzB,GAAG"}},
    {"offset": {"line": 247, "column": 0}, "map": {"version":3,"sources":["file:///D:/Programming/Practice%20Work%20-%20Projects/chat-app/frontend/lib/redux/store.ts"],"sourcesContent":["import { configureStore } from \"@reduxjs/toolkit\";\r\nimport authReducer from \"./slices/authSlice\";\r\nimport userReducer from \"./slices/userSlice\";\r\nimport { apiSlice } from \"./api/apiSlice\";\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    auth: authReducer,\r\n    user: userReducer,\r\n    [apiSlice.reducerPath]: apiSlice.reducer,\r\n  },\r\n  middleware: (getDefaultMiddleware) =>\r\n    getDefaultMiddleware().concat(apiSlice.middleware),\r\n});\r\n\r\nexport type RootState = ReturnType<typeof store.getState>;\r\nexport type AppDispatch = typeof store.dispatch;\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;;;;;AAEO,MAAM,QAAQ,IAAA,gNAAc,EAAC;IAClC,SAAS;QACP,MAAM,iJAAW;QACjB,MAAM,iJAAW;QACjB,CAAC,8IAAQ,CAAC,WAAW,CAAC,EAAE,8IAAQ,CAAC,OAAO;IAC1C;IACA,YAAY,CAAC,uBACX,uBAAuB,MAAM,CAAC,8IAAQ,CAAC,UAAU;AACrD"}},
    {"offset": {"line": 274, "column": 0}, "map": {"version":3,"sources":["file:///D:/Programming/Practice%20Work%20-%20Projects/chat-app/frontend/lib/redux/ReduxProvider.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Provider } from \"react-redux\";\r\nimport { store } from \"./store\";\r\nimport { useEffect } from \"react\";\r\nimport { restoreAuth } from \"./slices/authSlice\";\r\n\r\nexport function ReduxProvider({ children }: { children: React.ReactNode }) {\r\n  useEffect(() => {\r\n    // Restore auth state from localStorage on mount\r\n    store.dispatch(restoreAuth());\r\n  }, []);\r\n\r\n  return <Provider store={store}>{children}</Provider>;\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAOO,SAAS,cAAc,EAAE,QAAQ,EAAiC;;IACvE,IAAA,0KAAS;mCAAC;YACR,gDAAgD;YAChD,iIAAK,CAAC,QAAQ,CAAC,IAAA,qJAAW;QAC5B;kCAAG,EAAE;IAEL,qBAAO,6LAAC,wKAAQ;QAAC,OAAO,iIAAK;kBAAG;;;;;;AAClC;GAPgB;KAAA"}}]
}